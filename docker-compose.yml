version: "3.8"

services:
backend:
build: ./backend
container_name: rag2-backend
ports:
- "5000:5000"
volumes:
- ./backend/uploads:/app/uploads
- ./backend/.env:/app/.env
environment:
- OPENAI_API_KEY=${OPENAI_API_KEY}
- MODEL_NAME=gpt-4o-mini
- MAX_TOKENS=1500
restart: unless-stopped

frontend:
build: ./frontend
container_name: rag2-frontend
ports:
- "80:80"
depends_on:
- backend
restart: unless-stopped
